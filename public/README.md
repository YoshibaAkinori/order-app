# 松栄寿司注文管理システム

年末年始などの繁忙期に特化した、Webベースの注文管理アプリケーションです。従来のExcelを使った電話・FAXによる注文管理をデジタル化し、複数人でのリアルタイムな情報共有、ミスの削減、業務の大幅な効率化を実現します。

## ✨ 主な機能

| 機能 | 概要 |
| :--- | :--- |
| 📅 **年度ごとのデータ管理** | 注文データや設定を年ごとに完全に分離し、安全に管理。 |
| ✍️ **リアルタイム注文管理** | 新規注文、注文内容の変更をWebフォームから直感的に入力。 |
| 🔢 **自動番号採番** | 受付番号・注文番号をルールに基づき注文時に自動で生成。 |
| 📋 **注文一覧** | 特定の日付や担当者ごとの注文状況を一覧で確認。 |
| 📄 **PDF注文確認書** | ワンクリックで注文確認書を生成・印刷。 |
| 🚚 **割振管理** | 配達ルートごとの注文を可視化し、担当者を割り当て。 |
| 📊 **自動集計機能** | ネタ数や商品ごとの注文件数をリアルタイムで自動集計。 |
| ⚙️ **マスターデータ管理** | 商品メニュー、ネタの種類、配達先などのマスターデータをWeb上から簡単に編集。 |
| 📧 **メール通知 (実装中)** | 注文確定時にお客様へ自動で確認メールを送信。 |

---

## 📖 アプリケーションの使い方

### 1. ログイン

アプリにアクセスすると、まずログイン画面が表示されます。Cognitoで設定したユーザー名とパスワードでログインしてください。

![ログイン画面](/photo/Login.png)

### 2. 年度の選択

ログイン後、サイドバーにある「年度選択」から操作したい年を選びます。ここで選択した年に基づいて、全てのデータが読み込まれます。

![年度選択画面](/photo/YearSelect.png)

### 3. 新規注文

サイドバーの「新規注文」から、新しい注文を入力します。

1.  **お客様情報**: 住所記号を選択すると、登録済みの住所が自動入力されます。
2.  **注文内容**: 商品の数量を入力します。ネタ変更や特別注文もここで行います。
3.  **お支払い情報**: 支払い方法や、領収書・請求書の設定を行います。
4.  **注文内容を確認**: ボタンを押すと、最終確認のモーダルが表示されます。
5.  **送信**: 内容に問題がなければ「この内容で送信」ボタンを押して注文を確定します。

![新規注文Form](/photo/Order.png)

### 4. 注文変更

1.  **注文変更からの変更**:
    「注文変更」ページで受付番号を入力して検索すると、既存の注文を編集またはキャンセルできます。

![注文変更画面1](/photo/ChangeOrder1.png)

2.  **注文一覧からの変更**:
    「注文一覧」ページで注文番号をクリックすると、クリックした注文を編集またはキャンセルできます。

![注文変更画面1](/photo/ChangeOrder2.png)

### 5. 注文一覧

「注文一覧」では、指定した日付や担当者で注文を絞り込み、一覧で確認できます。

* **PDF出力**: 各注文の右側にあるPDFボタンを押すと、印刷可能な注文確認書が新しいタブで開きます。
* **メールアドレス警告**: お客様情報にメールアドレスが登録されていない注文は、PDFボタンが赤枠で表示されます。

![注文一覧](/photo/Dashboard.png)

### 6. 割振管理

「割振管理」ページでは、特定の日付の注文を建物の階層ごとにグループ化して表示します。各注文に配達担当者を割り当て、「割振決定 更新」ボタンで保存します。

![割振管理](./photo/Allocation.png)

### 7. ネタ数集計・ネタ変更管理

* **ネタ数**: 指定した日付と担当者で、必要なネタの総数を商品別・ネタ別に自動集計します。

ネタ数の部分をクリックすると、ネタ数の詳細が表示されます。

![ネタ数集計](./photo/CountNeta.png)

* **ネタ変更管理**: ネタ変更が行われた注文を一覧で確認し、どのネタをどのネタに変更するかを管理します。


![ネタ変更](./photo/ChangeNeta.png)

### 8. 設定管理

「設定管理」ページでは、システムの動作に必要な各種マスターデータを編集します。

* **年度更新**: 設定が存在しない新しい年を選択すると、前年の設定をコピーして年度更新を行うためのボタンが表示されます。

![設定管理](/photo/Setting1.png)

* **設定画面**: カードをクリックすると、各項目の詳細設定モーダルが開きます。
![設定管理](/photo/Setting2.png)


---
## 🔧 使用技術

* **フロントエンド**: Next.js (React), Tailwind CSS
* **バックエンド**: AWS Lambda (Node.js, Python)
* **データベース**: AWS DynamoDB
* **認証**: AWS Cognito
* **メール送信**: AWS SES
* **ホスティング**: Vercel (フロントエンド), AWS (バックエンド)

---